<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Whaaat!? Festival 2024</title>
    <link rel="stylesheet" href="https://use.typekit.net/kax8djx.css">
    <link rel="stylesheet" href="whaaat.css">
    <style>
    @media screen and (max-width: 400px) {
        .video-container {
            top: 0;
            left: 2.5%;
            
        }
       
        .notification-container {
            font-size: 150%;
        }

        .btn {
            left: 84%;
            width: 15px;
            height: 11px;
        }

        #btn1 {
            top: 6%;
            
        }

        #btn2 {
            top: 10.5%;
        }

        #btn3 {
            top: 14.5%;
        }

        #btn4 {
            top: 18%;
        }

        #btn5 {
            top: 22%;
        }

        #btn6 {
            top: 26%;
        }

        
    }

    @media screen and (max-width: 350px) {

    }

    @media screen and (max-width: 300px) {
        .notification-container {
            font-size: 100%;
        }

        .text-input {
            height: 100%;
            width: 15em;
            margin-right: 1vw;
        }

        .submit-button {
            border-radius: 10px;
            background-color: white;
            color: black;
            border: 1px solid black;
        }

        .pf-container {
            display: flex;
            justify-content: center;
            align-items: center;  
              
        }

        .pf {
            text-transform:uppercase;
            font-family: sans-serif;
            font-weight: bold;
            font-size: 10%;
        }
    }
        
    </style>
</head>
<body>
    <div class="container">
        <div class="frame">
            <img src="tvimagelayers/tv.png" alt="Frame">
            <div class="video-container">
                <video src="channelvideo/LIVINGROOM1-sm.m4v" autoplay loop muted webkit-playsinline playsinline></video>
            </div>
            <div id="btn1" class="btn" data-channel="1"></div>
            <div id="btn2" class="btn" data-channel="2"></div>
            <div id="btn3" class="btn" data-channel="3"></div>
            <div id="btn4" class="btn" data-channel="4"></div>
            <div id="btn5" class="btn" data-channel="5"></div>
            <div id="btn6" class="btn" data-channel="6"></div>
        </div>
       
        <div class="notification-container">
            <p class="notification">Sign up for Notifications</p>
            <form class="input-form">
                <input type="text" class="text-input" placeholder="">
                <button type="submit" class="submit-button">submit</button>
            </form>
        </div>
        <div class="pf-container">
            <p class="pf">Past Festivals: <a href="https://www.whaaat.io/2023/">2023</a> | <a href="https://www.whaaat.io/2022/">2022</a> | <a href="https://www.whaaat.io/2021/">2021</a> | <a href="https://www.whaaat.io/2020/">2020</a></p>
        </div>
    </div>
    <script>
        let btn1 = document.querySelector('#btn1');
        btn1.addEventListener('click', ()=>{ 
            changeChannel(btn1.dataset.channel);
        });

        let btn2 = document.querySelector('#btn2');
        btn2.addEventListener('click', ()=>{ 
            changeChannel(btn2.dataset.channel);
        });

        let btn3 = document.querySelector('#btn3');
        btn3.addEventListener('click', ()=>{ 
            changeChannel(btn3.dataset.channel);
        });

        let btn4 = document.querySelector('#btn4');
        btn4.addEventListener('click', ()=>{ 
            changeChannel(btn4.dataset.channel);
        });

        let btn5 = document.querySelector('#btn5');
        btn5.addEventListener('click', ()=>{ 
            changeChannel(btn5.dataset.channel);
        });

        let btn6 = document.querySelector('#btn6');
        btn6.addEventListener('click', ()=>{ 
            changeChannel(btn6.dataset.channel);
        });

        function changeChannel(channel) {
            let video = document.querySelector('video');
            let oldSrc = video.src;
            // console.log("Old Source is: " + oldSrc);

            let newSrc = "channelvideo/LIVINGROOM" + channel + "-sm.m4v";
            // console.log("New Source is: " + newSrc);           
            
            if (oldSrc.includes(newSrc)) {
                let newSrc = "channelvideo/mov/staticonly.mov";
                video.setAttribute('src', newSrc);
                video.load();
            }
            else { 
                video.setAttribute('src', newSrc);
                video.load();
            }
        }
    
        // dial3 -- on/off
        /*
        let powerState = true;
        const btn3 = document.querySelector('.btn3').addEventListener('click', onOff);
        
        function onOff() {
            if (powerState == true) {
                // alert('power is off');
                powerState = false;
                let video = document.querySelector('video');
                video.setAttribute('src', 'none');
            }
            else {
                //alert('power is on');
                powerState = true;
                let video = document.querySelector('video');
                video.setAttribute('src', 'channelvideo/mov/staticonly.mov');
            }

        }
        */
    </script>
</body>
</html>
